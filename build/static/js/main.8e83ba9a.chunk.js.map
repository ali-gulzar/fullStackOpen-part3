{"version":3,"sources":["services/contacts.js","App.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","put","delete","Notification","message","className","style","display","Filter","onChangeAction","value","onChange","event","PersonForm","newName","newNumber","addPerson","type","onClick","Persons","filterPersons","handleDelete","map","fp","name","number","window","confirm","App","useState","persons","setPersons","setNewName","setNewNumber","filter","setFilter","setMessage","useEffect","contacts","then","response","data","person","toLowerCase","includes","target","preventDefault","existingPerson","find","setTimeout","concat","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8e83ba9a.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst deleteContact = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default {\n  getAll,\n  create,\n  update,\n  deleteContact\n}\n","import React, { useState, useEffect } from 'react';\nimport contacts from './services/contacts';\n\nconst Notification = ({message}) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"message\" style={{display: message ? 'block' : 'none'}}>\n      {message}\n    </div>\n  )\n}\n\nconst Filter = ({onChangeAction, value}) => {\n  return (\n    <form>\n      <div>\n        filter shown with <input value={value} onChange={(event) => onChangeAction(event, \"filter\")} />\n      </div>\n    </form>\n  )\n}\n\nconst PersonForm = ({onChangeAction, newName, newNumber, addPerson}) => {\n  return (\n    <form>\n      <div>\n        name: <input value={newName} onChange={(event) => onChangeAction(event, \"name\")} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={(event) => onChangeAction(event, \"number\")}/>\n      </div>\n      <div>\n        <button type=\"submit\" onClick={addPerson}>add</button>\n      </div>\n    </form>\n  )\n}\n\nconst Persons = ({filterPersons, handleDelete}) => filterPersons.map(fp => {\n\n  const handleDeleteClick = (name, id) => {\n    if (window.confirm(`Delete ${name} ?`)) {\n      handleDelete(id);\n    }\n  }\n\n  return (\n      <p key={fp.name}>{fp.name} {fp.number} <button onClick={() => handleDeleteClick(fp.name, fp.id)}>delete</button></p>\n  )\n})\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ message, setMessage ] = useState(null)\n\n  useEffect(() => {\n    contacts.getAll().then((response) => setPersons(response.data))\n  },[])\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const names = persons.map(person => person.name);\n\n    if (!names.includes(newName)) {\n      contacts.create({name: newName, number: newNumber}).then(response => {\n        setMessage(`${newName} added in the phonebook`)\n        setPersons([...persons].concat(response.data))\n        setTimeout(() => {\n          setMessage(null)\n        }, 2000)\n      })\n    } else {\n      if (window.confirm(`${newName} already exists in the phonebook, replace the old number with the new one?`)) {\n        const existingPerson = persons.find(person => person.name === newName)\n        contacts.update(existingPerson.id, {...existingPerson, number: newNumber}).then(response => {\n          setMessage(`${newName} person contact number is updated.`)\n          setPersons(persons.map(person => (person.id === existingPerson.id && person.number !== newNumber) ? response.data : person))\n          setTimeout(() => {\n            setMessage(null)\n          }, 2000)\n        })\n      }\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleDelete = (id) => {\n    setMessage(`Person with id ${id} is deleted from the contacts.`)\n    contacts.deleteContact(id).then(setPersons(persons.filter(person => person.id !== id))).catch(error => setMessage(`Person with id ${id} is already deleted from the server.`))\n    setTimeout(() => {\n      setMessage(null)\n    }, 2000)\n  }\n\n  const filterPersons = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  const onChangeAction = (event, type) => {\n    if (type === \"filter\") {\n      setFilter(event.target.value)\n    } else if (type === \"name\"){\n      setNewName(event.target.value)\n    } else {\n      setNewNumber(event.target.value)\n    }\n  }\n\n  return (\n    <div>\n      <Notification message={message}/>\n      <h2>Phonebook</h2>\n      <Filter onChangeAction={onChangeAction} value={filter}/>\n      <h2>add a new</h2>\n      <PersonForm onChangeAction={onChangeAction} newName={newName} newNumber={newNumber} addPerson={addPerson}/>\n      <h2>Numbers</h2>\n      <Persons filterPersons={filterPersons} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}